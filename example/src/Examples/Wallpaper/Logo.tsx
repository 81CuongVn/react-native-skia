/* eslint-disable max-len */
import {
  Canvas,
  Fill,
  FitBox,
  rect,
  Skia,
  Path,
  useTiming,
  Easing,
  LinearGradient,
  vec,
} from "@shopify/react-native-skia";
import React from "react";
import { Dimensions } from "react-native";

import { Background } from "./Background";
import { PathGradient } from "./PathGradient";

const { width, height } = Dimensions.get("window");
const path = Skia.Path.MakeFromSVGString(
  "M480.213 173.005C468.312 154.697 374.758 74.5812 300.94 74.5812C227.122 74.5812 182.707 100.542 172.638 118.85C125.952 176.52 109.933 233.275 124.579 289.115C143.803 356.854 196.896 418.644 283.859 474.484C383.638 531.238 447.716 595.774 476.093 668.091C486.163 700.13 487.536 731.711 480.213 762.835C472.889 793.959 458.243 822.336 436.273 847.967C417.965 872.683 393.707 890.533 363.499 901.518C333.291 911.588 296.675 919.369 253.651 924.861C150.21 933.1 65.9935 917.538 1 878.176M563.972 702.419C678.397 533.985 763.529 393.47 819.369 280.876C833.1 248.837 843.169 224.579 849.577 208.102C855.985 190.709 862.393 167.824 868.801 139.447C875.208 111.069 877.497 84.9802 875.666 61.1798C872.92 37.3793 861.02 19.9867 839.965 9.00187C818.911 -2.89835 798.772 -1.52524 779.549 13.1212C740.187 34.1754 713.64 70.3338 699.909 121.596C691.67 143.566 683.432 169.197 675.193 198.49C667.87 227.783 662.378 250.21 658.716 265.772C655.97 281.334 650.935 309.711 643.612 350.904C636.289 391.182 631.712 414.982 629.881 422.306C611.573 536.731 589.603 702.876 563.972 920.742C592.349 821.878 624.846 743.154 661.462 684.568C674.278 658.937 685.263 638.798 694.417 624.152C703.571 609.505 716.844 593.486 734.237 576.093C752.545 558.7 771.768 545.885 791.907 537.646C860.562 512.015 909.994 514.303 940.202 544.512C958.51 563.735 967.664 587.078 967.664 614.54C968.579 642.002 958.052 663.514 936.083 679.076C893.059 702.876 827.608 710.657 739.729 702.419C754.375 706.996 765.36 711.115 772.683 714.776C780.922 717.523 790.992 722.1 802.892 728.507C815.707 734.915 825.319 742.696 831.727 751.85C839.05 761.004 843.627 771.531 845.458 783.432C846.373 788.009 847.746 796.705 849.577 809.52C852.323 822.336 854.612 831.948 856.443 838.356C858.273 844.763 860.562 853.002 863.308 863.071C866.97 873.141 871.089 881.837 875.666 889.16C881.159 895.568 887.566 901.976 894.89 908.384C917.775 930.353 955.764 927.607 1008.86 900.145C1024.42 892.822 1038.61 883.668 1051.42 872.683C1065.15 861.698 1077.97 848.425 1089.87 832.863C1102.69 816.386 1112.76 803.113 1120.08 793.043C1127.4 782.058 1137.47 766.039 1150.29 744.985C1163.1 723.93 1172.26 709.742 1177.75 702.419C1207.04 643.833 1236.33 585.247 1265.63 526.661C1220.77 639.256 1191.94 725.304 1179.12 784.805C1173.63 802.197 1171.34 822.336 1172.26 845.221C1173.17 868.106 1180.04 886.414 1192.85 900.145C1202.01 911.13 1213.45 918.453 1227.18 922.115C1241.83 925.776 1255.56 925.319 1268.37 920.742C1324.21 904.265 1369.53 872.225 1404.31 824.625C1424.45 797.163 1451.45 756.427 1485.32 702.419M1328.79 359.143C1315.97 359.143 1308.19 353.193 1305.45 341.293C1303.62 328.477 1304.99 317.492 1309.57 308.338C1316.89 304.677 1326.04 302.846 1337.03 302.846C1348.93 302.846 1356.25 307.88 1359 317.95M1893.13 666.718C1870.25 602.64 1842.33 562.82 1809.38 547.258C1778.25 528.95 1743.47 520.254 1705.02 521.169C1666.57 521.169 1632.25 531.238 1602.04 551.377C1573.66 567.854 1549.4 589.824 1529.26 617.286C1509.12 643.833 1495.39 673.126 1488.07 705.165C1481.66 736.288 1482.58 767.87 1490.82 799.909C1499.97 831.032 1515.53 857.579 1537.5 879.549C1572.29 908.842 1614.4 923.488 1663.83 923.488C1713.26 923.488 1755.82 908.842 1791.53 879.549C1806.17 864.902 1816.7 854.375 1823.11 847.967C1829.51 841.56 1836.84 832.406 1845.08 820.505C1854.23 808.605 1861.55 796.247 1867.05 783.432M1926.09 525.288C1901.37 626.898 1884.9 715.234 1876.66 790.297C1868.42 847.967 1879.4 887.787 1909.61 909.757C1932.5 928.065 1968.2 925.319 2016.71 901.518C2058.82 881.379 2099.1 842.017 2137.55 783.432"
)!;
const PADDING = 32;

export const Wallpaper = () => {
  const progress = useTiming(
    { to: 1, loop: false },
    { duration: 3000, easing: Easing.bezier(0.65, 0, 0.35, 1) }
  );

  return (
    <Canvas style={{ flex: 1 }} debug mode="continuous">
      <Background progress={progress} />
      <FitBox
        src={rect(0, 0, 2139, 928)}
        dst={rect(PADDING, PADDING, width - PADDING * 2, height - PADDING * 2)}
      >
        <PathGradient
          path={path}
          colors={[
            "#3FCEBC",
            "#3CBCEB",
            "#5F96E7",
            "#816FE3",
            "#9F5EE2",
            "#DE589F",
            "#FF645E",
            "#FDA859",
            "#FAEC54",
            "#9EE671",
            "#41E08D",
          ]}
          progress={progress}
          strokeWidth={116}
        />
        {/* <LinearGradient
          start={vec(0, 0)}
          end={vec(2139, 928)}
          colors={[
            "#3FCEBC",
            "#3CBCEB",
            "#5F96E7",
            "#816FE3",
            "#9F5EE2",
            "#DE589F",
            "#FF645E",
            "#FDA859",
            "#FAEC54",
            "#9EE671",
            "#41E08D",
          ]}
        />
        <Path
          path={path}
          end={progress}
          style="stroke"
          strokeWidth={116}
          strokeCap="round"
          strokeJoin="round"
        /> */}
      </FitBox>
    </Canvas>
  );
};
